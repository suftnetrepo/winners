(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(464)}])},7274:function(e,r,t){"use strict";t.d(r,{M:function(){return s},z:function(){return a}});var s="http://localhost:3000/api/",a={POST:"POST",GET:"GET",DELETE:"DELETE",PUT:"PUT"}},464:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return y}});var s=t(5893),a=t(7294),n=t(7102),i=t(3366),o=t(9472),c=t(7568),l=t(1799),u=t(9396),d=t(7582),m=t(1163),p=t(1955),h={rules:{password:[{pattern:/^.+$/,message:"password is required"},{pattern:/^.{0,20}$/,message:"password must be no more than 20 characters"}],email:[{pattern:/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/,message:"Please enter a valid email address"}]},fields:{email:"",password:""}},f=t(7822),v=t(4566),g=t(9473),b=t(7809),x=t(7274),j=function(){var e,r,t,n,i,j,w,N=(0,a.useState)({}),y=N[0],k=N[1],E=(0,a.useState)({notify_error:""}),_=E[0],C=E[1],S=(0,a.useState)(h.fields),T=S[0],Z=S[1],P=(0,a.useState)(!1),F=P[0],I=P[1],U=(0,a.useContext)(v.Il).login,M=(0,m.useRouter)(),O=(w=(0,c.Z)(function(e){var r,t,s,a;return(0,d.__generator)(this,function(a){switch(a.label){case 0:if(e.preventDefault(),(r=(0,f.G)(T,h.rules)).hasError)return k(r.errors),[2];return[4,(0,g.A)(b.y.login,T,x.z.POST)];case 1:return s=(t=a.sent()).data,t.success?(U({token:s.access_token,user:s.user}),p.Z.set("refreshtoken",s.refresh_token,{path:"api/auth/accessToken",expires:7}),M.push("/backend/dashboard")):C(function(e){return(0,u.Z)((0,l.Z)({},e),{notify_error:s})}),[2]}})}),function(e){return w.apply(this,arguments)});return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("h2",{className:"mb-3 text-start",children:"Welcome Back"}),(0,s.jsx)("p",{className:"lead mb-3 text-start",children:"Fill your email and password to sign in."}),(0,s.jsxs)("form",{className:"text-start mb-3",children:[_.notify_error&&(0,s.jsxs)("div",{className:"alert alert-danger alert-icon alert-dismissible fade show",role:"alert",children:[(0,s.jsx)("i",{className:"uil uil-times-circle"}),_.notify_error,(0,s.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),(0,s.jsxs)("div",{className:"form-floating mb-4",children:[(0,s.jsx)("input",{type:"email",value:T.email,id:"email",placeholder:"Email",className:"form-control ".concat((null===(e=y.email)||void 0===e?void 0:e.message)?"is-invalid":""),onChange:function(e){return Z((0,u.Z)((0,l.Z)({},T),{email:e.target.value}))}}),(0,s.jsx)("label",{htmlFor:"email",children:"Email"}),(null===(r=y.email)||void 0===r?void 0:r.message)&&(0,s.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(t=y.email)||void 0===t?void 0:t.message})]}),(0,s.jsxs)("div",{className:"form-floating password-field mb-4",children:[(0,s.jsx)("input",{value:T.password,id:"loginPassword",placeholder:"Password",className:"form-control ".concat((null===(n=y.password)||void 0===n?void 0:n.message)?"is-invalid":""),type:F?"text":"password",onChange:function(e){return Z((0,u.Z)((0,l.Z)({},T),{password:e.target.value}))}}),(0,s.jsx)("span",{className:"password-toggle",onClick:function(){return I(!F)},children:(0,s.jsx)("i",{className:"uil  ".concat(F?"uil-eye-slash":"uil-eye")})}),(0,s.jsx)("label",{htmlFor:"password",children:"Password"}),(null===(i=y.password)||void 0===i?void 0:i.message)&&(0,s.jsx)("div",{id:"validationServerUsernameFeedback",className:"invalid-feedback",children:null===(j=y.password)||void 0===j?void 0:j.message})]}),(0,s.jsx)("button",{type:"button",className:"btn btn-primary rounded-pill btn-login w-100 mb-2",onClick:function(e){return O(e)},children:"Sign In"})]}),(0,s.jsx)("p",{className:"mb-1",children:(0,s.jsx)(o.Z,{title:"Forgot Password?",href:"/register",className:"hover"})})]})},w=t(69),N=[{id:1,title:"Home",url:"/"},{id:2,title:"Sign In",url:"#"}],y=function(){return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)("header",{className:"wrapper bg-soft-primary",children:(0,s.jsx)(w.Z,{className:"navbar navbar-expand-lg center-nav transparent position-absolute navbar-dark",button:(0,s.jsx)(o.Z,{title:" Sign In",href:"/login",className:"btn btn-sm btn-primary rounded-pill"})})}),(0,s.jsxs)("main",{className:"content-wrapper",children:[(0,s.jsx)("section",{className:"wrapper bg-dark text-white",children:(0,s.jsx)("div",{className:"container pt-18 pt-md-20 pb-21 pb-md-21 text-center",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"col-lg-8 mx-auto",children:[(0,s.jsx)("h1",{className:"display-1 text-white mb-3",children:"Sign In"}),(0,s.jsx)(i.Z,{className:"text-white",data:N})]})})})}),(0,s.jsx)("section",{className:"wrapper bg-light",children:(0,s.jsx)("div",{className:"container pb-14 pb-md-16",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col mt-n19",children:(0,s.jsx)("div",{className:"card shadow-lg",children:(0,s.jsxs)("div",{className:"row gx-0 text-center",children:[(0,s.jsx)("div",{className:"col-lg-6 image-wrapper bg-image bg-cover rounded-top rounded-lg-start d-none d-md-block",style:{backgroundImage:"url(/img/photos/tm3.jpg)"}}),(0,s.jsx)("div",{className:"col-lg-6",children:(0,s.jsx)("div",{className:"p-10 p-md-11 p-lg-13",children:(0,s.jsx)(j,{})})})]})})})})})})]}),(0,s.jsx)(n.$,{})]})}},3366:function(e,r,t){"use strict";var s=t(5893),a=t(9472),n=[{id:1,title:"Home",url:"/"},{id:2,title:"Shop",url:"/shop"}],i=function(e){var r=e.data,t=void 0===r?n:r,i=e.className;return(0,s.jsx)("nav",{className:"d-inline-block","aria-label":"breadcrumb",children:(0,s.jsx)("ol",{className:"breadcrumb ".concat(void 0===i?"":i),children:t.map(function(e,r){var n=e.id,i=e.title,o=e.url;return t.length-1===r?(0,s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:i},n):(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(a.Z,{title:i,href:o})},n)})})})};r.Z=i},69:function(e,r,t){"use strict";var s=t(5893),a=t(5297),n=function(e){var r=e.stickyBox,t=e.className,n=e.button;return(0,s.jsx)(a.w,{stickyBox:void 0!==r&&r,logoAlt:"logo-purple",navOtherClass:"navbar-other ms-lg-4",navClassName:t,button:n})};r.Z=n},9473:function(e,r,t){"use strict";t.d(r,{A:function(){return c}});var s,a=t(7568),n=t(1799),i=t(7582),o={"content-type":"application/json"},c=(s=(0,a.Z)(function(e,r,t){var s,a,c,l,u,d,m,p,h,f=arguments;return(0,i.__generator)(this,function(i){switch(i.label){case 0:s=f.length>3&&void 0!==f[3]?f[3]:null,a=f.length>4&&void 0!==f[4]?f[4]:null,i.label=1;case 1:return i.trys.push([1,8,,9]),c=(0,n.Z)({},o),s&&(c.Authorization="Bearer ".concat(s)),l={method:t,headers:c},"GET"===t&&a&&(u=new URLSearchParams(a),e+="?".concat(u.toString())),r&&(l.body=JSON.stringify(r)),[4,fetch(e,l)];case 2:if(!(400===(d=i.sent()).status||401===d.status))return[3,4];return[4,d.json()];case 3:return[2,{success:!1,data:i.sent().error}];case 4:if(!d.ok)throw Error("Network response was not ok: ".concat(d.statusText));if("DELETE"!==t)return[3,5];return p=!0,[3,7];case 5:return[4,d.json()];case 6:p=i.sent(),i.label=7;case 7:return[2,{success:!0,data:p}];case 8:return h=i.sent(),console.error("Fetch error: ".concat(h)),[2,{success:!1,errorMessage:h.message}];case 9:return[2]}})}),function(e,r,t){return s.apply(this,arguments)})},7809:function(e,r,t){"use strict";t.d(r,{y:function(){return a}});var s=t(7274),a={register:"".concat(s.M,"auth/register"),login:"".concat(s.M,"auth/login"),accessToken:"".concat(s.M,"auth/accessToken")};"".concat(s.M,"user/create"),"".concat(s.M,"user"),"".concat(s.M,"users"),"".concat(s.M,"user"),"".concat(s.M,"user/fetch-users-by-paging")},7822:function(e,r,t){"use strict";t.d(r,{G:function(){return a}});var s=function(e,r){var t=!0,s=!1,a=void 0;try{for(var n,i=r[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var o=n.value;if(o.array){if(Array.isArray(e)&&0===e.length)return o.message}else if(o.pattern&&!o.pattern.test(e))return o.message}}catch(c){s=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(s)throw a}}},a=function(e,r){var t={},a=!1;for(var n in r){var i=r[n],o=s(e[n],i);o&&(a=!0,t[n]={message:o})}return{hasError:a,errors:t}}},1955:function(e,r,t){"use strict";/*! js-cookie v3.0.5 | MIT */ function s(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)e[s]=t[s]}return e}t.d(r,{Z:function(){return a}});var a=function e(r,t){function a(e,a,n){if("undefined"!=typeof document){"number"==typeof(n=s({},t,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in n){if(n[o])i+="; "+o,!0!==n[o]&&(i+="="+n[o].split(";")[0])}return document.cookie=e+"="+r.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],s={},a=0;a<t.length;a++){var n=t[a].split("="),i=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(s[o]=r.read(i,o),e===o)break}catch(c){}}return e?s[e]:s}},remove:function(e,r){a(e,"",s({},r,{expires:-1}))},withAttributes:function(r){return e(this.converter,s({},this.attributes,r))},withConverter:function(r){return e(s({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(r)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[664,860,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);